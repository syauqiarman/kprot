<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Program Tracking</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-5">
    <div class="grid grid-cols-3 gap-4">
        <!-- Clock Section (1,1) -->
        <div class="bg-white p-4 rounded-lg shadow">
            <h1 class="text-xl font-bold">Clock</h1>
            <p class="mt-2 text-lg font-semibold">Day <span id="clock">00.00.00</span></p>
        </div>

        <!-- KP Registration (1,2) -->
        <div class="bg-white p-4 rounded-lg shadow">
            <h2 class="text-lg font-bold mb-2">KP</h2>
            <p>Persyaratan:</p>
            <ul class="list-disc list-inside mt-1 space-y-2 text-gray-600">
                <li>Mahasiswa minimal semester 6</li>
                <li>Memiliki SKS lulus minimal 100 SKS</li>
                <li>Tidak memiliki lebih dari 24 SKS yang diambil</li>
                <li>Berkomitmen mengikuti kegiatan sampai akhir</li>
            </ul>
            {% if pendaftaran_kp %}
            <a href="{% url 'PendaftaranMahasiswaKP:pendaftaran_kp' %}" 
                class="mt-4 inline-block bg-gray-800 text-white text-center py-2 px-4 rounded hover:bg-gray-700">
                Lihat Status Pendaftaran
            </a>
            {% elif pendaftaran_mbkm %}
                <div class="mt-4 inline-block bg-gray-300 text-gray-600 text-center py-2 px-4 rounded cursor-not-allowed">
                    Sudah Daftar MBKM
                </div>
            {% else %}
                <a href="{% url 'PendaftaranMahasiswaKP:pendaftaran_kp' %}" 
                   class="mt-4 inline-block bg-gray-800 text-white text-center py-2 px-4 rounded hover:bg-gray-700">
                    Daftar
                </a>
            {% endif %}
        </div>

        <!-- MBKM Registration (1,3) -->
        <div class="bg-white p-4 rounded-lg shadow">
            <h2 class="text-lg font-bold mb-2">MBKM</h2>
            <p>Persyaratan:</p>
            <ul class="list-disc list-inside mt-1 space-y-2 text-gray-600">
                <li>Mahasiswa minimal semester 5</li>
                <li>Tidak memiliki lebih dari 24 SKS yang diambil</li>
                <li>Berkomitmen mengikuti kegiatan sampai akhir</li>
                <li>-</li>
            </ul>
            {% if pendaftaran_mbkm %}
            <a href="{% url 'PendaftaranMahasiswaMBKM:daftar_mbkm' %}" 
                class="mt-4 inline-block bg-gray-800 text-white text-center py-2 px-4 rounded hover:bg-gray-700">
                Lihat Status Pendaftaran
            </a>
            {% elif pendaftaran_kp %}
                <div class="mt-4 inline-block bg-gray-300 text-gray-600 text-center py-2 px-4 rounded cursor-not-allowed">
                    Sudah Mendaftar KP
                </div>
            {% else %}
                <a href="{% url 'PendaftaranMahasiswaMBKM:daftar_mbkm' %}" 
                   class="mt-4 inline-block bg-gray-800 text-white text-center py-2 px-4 rounded hover:bg-gray-700">
                    Daftar
                </a>
            {% endif %}
        </div>

        <!-- KP Details (2,2) -->
        <div class="bg-white p-4 rounded-lg shadow row-start-2 col-start-2">
            <h2 class="text-lg font-bold mb-2">Detil Program KP</h2>
            <ul class="list-disc list-inside mt-1 space-y-2 text-gray-600">
                <p>Jika sudah mengisi formulir pendaftaran KP, isilah detil Program KP yang Anda ikuti</p>
            </ul>
            {% if pendaftaran_mbkm %}
                <div class="mt-4 inline-block bg-gray-300 text-gray-600 text-center py-2 px-4 rounded cursor-not-allowed">
                    Sudah Mendaftar MBKM
                </div>
            {% else %}
                {% if pendaftaran_kp.status_pendaftaran == 'Menunggu Detil' %}
                    <a href="{% url 'input_detil_program:input_detil_kp_form' %}" 
                        class="mt-4 inline-block bg-gray-800 text-white text-center py-2 px-4 rounded hover:bg-gray-700">
                        Lengkapi Detil
                    </a>
                {% else %}
                    <div class="mt-4 inline-block bg-gray-300 text-gray-600 text-center py-2 px-4 rounded cursor-not-allowed">
                        Status: {{ pendaftaran_kp.status_pendaftaran|default:"Belum bisa diisi" }}
                    </div>
                {% endif %}
            {% endif %}
        </div>

        <!-- MBKM Details (2,3) -->
        <div class="bg-white p-4 rounded-lg shadow row-start-2 col-start-3">
            <h2 class="text-lg font-bold mb-2">Detil Program MBKM</h2>
            <ul class="list-disc list-inside mt-1 space-y-2 text-gray-600">
                <p>Jika sudah mengisi formulir pendaftaran MBKM dan status pendaftaran sudah "Menunggu Detil", isilah detil Program MBKM yang Anda ikuti</p>
            </ul>
            {% if pendaftaran_kp %}
                <div class="mt-4 inline-block bg-gray-300 text-gray-600 text-center py-2 px-4 rounded cursor-not-allowed">
                    Sudah Mendaftar KP
                </div>
            {% else %}
                {% if pendaftaran_mbkm.status_pendaftaran == 'Menunggu Detil' %}
                    <a href="{% url 'input_detil_program:input_detil_mbkm' %}" 
                    class="mt-4 inline-block bg-gray-800 text-white text-center py-2 px-4 rounded hover:bg-gray-700">
                    Lengkapi Detil
                    </a>
                {% else %}
                    <div class="mt-4 inline-block bg-gray-300 text-gray-600 text-center py-2 px-4 rounded cursor-not-allowed">
                        Status: {{ pendaftaran_mbkm.status_pendaftaran|default:"Belum bisa diisi" }}
                    </div>
                {% endif %}
            {% endif %}
        </div>
    </div>

    <script>
        function updateClock() {
            const now = new Date();
            const timeString = 
                now.getHours().toString().padStart(2, '0') + "." +
                now.getMinutes().toString().padStart(2, '0') + "." +
                now.getSeconds().toString().padStart(2, '0');
            document.getElementById("clock").textContent = timeString;
        }
        setInterval(updateClock, 1000);
        updateClock();
    </script>
</body>
</html>